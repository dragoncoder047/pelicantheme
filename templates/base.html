<!DOCTYPE html>
<html lang="{%- block html_lang -%}{{ DEFAULT_LANG }}{%- endblock html_lang -%}">
    <head>
        {% block head %}
            <title>{% block title %}{{ SITENAME }}{% endblock title %}</title>
            <meta charset="utf-8" />
            <meta name="generator" content="Pelican" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <link rel="stylesheet" href="{{ THEME_CSS_FILE }}" />
            {% if FEED_ALL_ATOM %}
                <link href="{{ FEED_DOMAIN }}/{%- if FEED_ALL_ATOM_URL -%}{{ FEED_ALL_ATOM_URL }}{%- else -%}{{ FEED_ALL_ATOM }}{%- endif -%}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Full Atom Feed" />
            {% endif %}
            {% if FEED_ALL_RSS %}
                <link href="{{ FEED_DOMAIN }}/{%- if FEED_ALL_RSS_URL -%}{{ FEED_ALL_RSS_URL }}{%- else -%}{{ FEED_ALL_RSS }}{%- endif -%}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Full RSS Feed" />
            {% endif %}
            {% if FEED_ATOM %}
                <link href="{{ FEED_DOMAIN }}/{%- if FEED_ATOM_URL -%}{{ FEED_ATOM_URL }}{%- else -%}{{ FEED_ATOM }}{%- endif -%}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Atom Feed" />
            {% endif %}
            {% if FEED_RSS %}
                <link href="{{ FEED_DOMAIN }}/{%- if FEED_RSS_URL -%}{{ FEED_RSS_URL }}{%- else -%}{{ FEED_RSS }}{%- endif -%}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
            {% endif %}
            {% if CATEGORY_FEED_ATOM and category %}
                <link href="{{ FEED_DOMAIN }}/{%- if CATEGORY_FEED_ATOM_URL -%}{{ CATEGORY_FEED_ATOM_URL.format(slug=category.slug) }}{%- else -%}{{ CATEGORY_FEED_ATOM.format(slug=category.slug) }}{%- endif -%}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Categories Atom Feed" />
            {% endif %}
            {% if CATEGORY_FEED_RSS and category %}
                <link href="{{ FEED_DOMAIN }}/{%- if CATEGORY_FEED_RSS_URL -%}{{ CATEGORY_FEED_RSS_URL.format(slug=category.slug) }}{%- else -%}{{ CATEGORY_FEED_RSS.format(slug=category.slug) }}{%- endif -%}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Categories RSS Feed" />
            {% endif %}
            {% if TAG_FEED_ATOM and tag %}
                <link href="{{ FEED_DOMAIN }}/{%- if TAG_FEED_ATOM_URL -%}{{ TAG_FEED_ATOM_URL.format(slug=tag.slug) }}{%- else -%}{{ TAG_FEED_ATOM.format(slug=tag.slug) }}{%- endif -%}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Tags Atom Feed" />
            {% endif %}
            {% if TAG_FEED_RSS and tag %}
                <link href="{{ FEED_DOMAIN }}/{%- if TAG_FEED_RSS_URL -%}{{ TAG_FEED_RSS_URL.format(slug=tag.slug) }}{%- else -%}{{ TAG_FEED_RSS.format(slug=tag.slug) }}{%- endif -%}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Tags RSS Feed" />
            {% endif %}
            {% block icons %}
                {% if ICON and ICON_MIMETYPE %}
                    <link rel="icon" href="{{ ICON }}" type="{{ ICON_MIMETYPE }}" />
                    <link rel="apple-touch-icon" href="{{ ICON }}" type="{{ ICON_MIMETYPE }}" />
                {% endif %}
            {% endblock icons %}
        {% endblock head %}
    </head>

    <body>
        <header>
            {% block logo %}
                <div class="flex-row">
                    {% if LOGO %}
                        <img src="{{ LOGO }}" width="{{ LOGO_SIZE.0 }}" alt="{{ LOGO_ALT }}" height="{{ LOGO_SIZE.1 }}" />
                    {% endif %}
                    <div id="sitename-text"{% if SITESUBTITLE %} class="flex-column"{% endif %}><h1>{{ SITENAME }}</h1>{% if SITESUBTITLE %}<h2>{{ SITESUBTITLE }}</h2>{% endif %}</div>
                </div>
            {% endblock logo %}
            <nav>
                <ul>
                    <li><a href="{{ SITEURL }}/">Home</a></li>
                    {% for itm in MENUITEMS recursive %}
                        <li><a href="{{ itm.1 }}">{{ itm.0 }}</a>
                            {% if itm.2 %}
                                <ul>
                                    {{ loop(itm.2) }}
                                </ul>
                            {% endif %}
                        </li>
                    {% endfor %}
                    {% if DISPLAY_PAGES_ON_MENU %}
                        {% for p in pages %}
                            <li{% if p == page %} class="active"{% endif %}><a href="{{ SITEURL }}/{{ p.url }}">{{ p.title }}</a></li>
                        {% endfor %}
                    {% endif %}
                    {% if DISPLAY_CATEGORIES_ON_MENU %}
                        <li><a href="/categories.html">Categories</a>
                            <ul>
                                {% for cat, _ in categories %}
                                    <li{% if cat == category %} class="active"{% endif %}><a href="{{ SITEURL }}/{{ cat.url }}">{{ cat }}</a></li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </header>
        <main>
            {% block content %}{% endblock content %}
            <section id="extras">
                {% if LINKS %}
                    <div class="blogroll">
                        <ul>
                            {% for name, link in LINKS %}
                                <li><a href="{{ link }}">{{ name }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
                {% if SOCIAL or FEED_ALL_ATOM or FEED_ALL_RSS %}
                    <div class="social">
                        <ul>
                            {% if FEED_ALL_ATOM %}
                                <li><a href="{{ FEED_DOMAIN }}/{%- if FEED_ALL_ATOM_URL -%}{{ FEED_ALL_ATOM_URL }}{%- else -%}{{ FEED_ALL_ATOM }}{%- endif -%}" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            {% endif %}
                            {% if FEED_ALL_RSS %}
                                <li><a href="{{ FEED_DOMAIN }}/{%- if FEED_ALL_RSS_URL -%}{{ FEED_ALL_RSS_URL }}{%- else -%}{{ FEED_ALL_RSS }}{%- endif -%}" type="application/rss+xml" rel="alternate">rss feed</a></li>
                            {% endif %}

                            {% for name, link in SOCIAL %}
                                <li><a href="{{ link }}">{{ name }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </section>
            {% include 'disqus.html' %}
        </main>
        <footer>
            <address>
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, and hosted by <a href="https://pages.github.com/">GitHub Pages</a>.
            </address>
            <a href="#" onclick="window.scrollTo({top: 0, left: 0});">Back to top</a>
            {% include 'analytics.html' %}
        </footer>
    </body>
</html>
